\chapter{SemicircleDistribution}
\section{Semicircle Probability Density Function}

%---Richard's Part for Semicircle Distribution (Start)---% 
%---------%
%--------%
\begin{definition}
  \label{def:semicirclePDFReal}
  \mathlibok 
  \lean{semicirclePDFReal}
    The function $f : \mathbb{R} \times \mathbb{R}_{\geq 0} \times \mathbb{R} \rightarrow \mathbb{R}$ defined by
   \[
    f(\mu,v,x) 
    = \frac{1}{2πv} \sqrt{(4v - (x - μ)^2)_+}
   \]
   is called the probability density function (p.d.f.) of the semicircle distribution.
\end{definition}
%---------%
%---------%
\begin{lemma}
  \label{lem:semicirclePDFReal_def}
  \mathlibok 
  \lean{semicirclePDFReal_def}
  \uses{def:semicirclePDFReal}
    Given a mean $\mu \in \mathbb{R}$ and a variance $v \in \mathbb{R}_{\geq 0}$, the p.d.f. $f : \mathbb{R} \rightarrow \mathbb{R}$ 
    of the semicircle distribution with mean $\mu$ and variance $v$ is given by
  \[
    f(x) = 
    \frac{1}{2πv} \sqrt{(4v - (x - μ)^2)_+}.
  \]
\end{lemma}
%---------%
%---------%
\begin{lemma}
    \label{lem:semicirclePDFReal_zero_var}
    \mathlibok
    \lean{semicirclePDFReal_zero_var}
    \uses{def:semicirclePDFReal}
    If the variance $v$ is given to be zero, then the p.d.f. of the semicircle distribution is the zero functional.
%    In other words, for any mean $m \in \mathbb{R}$ and $x \in \mathbb{R}$, we have
%    \[
%    f(m,0,x) = 0.
%    \]
\end{lemma}
\begin{proof}
    By Definition \ref{def:semicirclePDFReal}, the square root of a nonpositive number is defined to be zero.
    Hence, the p.d.f. with a zero variance must be the zero functional.
\end{proof}
%---------%
%---------%
\begin{lemma}
    \label{lem:semicirclePDFReal_nonneg}
    \mathlibok
    \lean{semicirclePDFReal_nonneg}
    \uses{def:semicirclePDFReal}
    The p.d.f. of the semicircle distribution is always nonnegative. 
\end{lemma}
\begin{proof}
   By Definition \ref{def:semicirclePDFReal}, the square root of a nonpositive number is defined to be zero. 
   Furthermore, the variance is always assumed to be nonnegative.
   Therefore, since the fractional term and the square root term are always nonnegative,
   we conclude the p.d.f. is always nonnegative. 
\end{proof}
%---------%
%---------%
\begin{lemma}
    \label{lem:measurable_semicirclePDFReal}
    \lean{measurable_semicirclePDFReal}
    \uses{}
    \notready
    Given a mean $\mu \in \mathbb{R}$ and a variance $v \in \mathbb{R}_{\geq 0}$, the p.d.f. $f : \mathbb{R} \rightarrow \mathbb{R}$ 
    of the semicircle distribution with mean $\mu$ and variance $v$ is measurable.
\end{lemma}
\begin{proof}
% sorry
\end{proof}
%---------%
%---------%
\begin{lemma}
    \label{lem:stronglyMeasurable_semicirclePDFReal}
    \mathlibok
    \lean{stronglyMeasurable_semicirclePDFReal}
    \uses{def:semicirclePDFReal,lem:measurable_semicirclePDFReal}
    Given a mean $\mu \in \mathbb{R}$ and a variance $v \in \mathbb{R}_{\geq 0}$, the p.d.f. $f : \mathbb{R} \rightarrow \mathbb{R}$ 
    of the semicircle distribution with mean $\mu$ and variance $v$ is strongly measurable.
\end{lemma}
\begin{proof}
    By Lemma \ref{lem:measurable_semicirclePDFReal}, we know the p.d.f. $f$ with fixed mean $\mu$ and variance $v$ is measurable.
    Since $\mathbb{R}$ is equipped with a second countable topology, the fact that $f$ with fixed mean $\mu$ and variance $v$ implies $f$ is strongly measurable.  
\end{proof}
%---------%
%---------%
\begin{lemma}
    \label{lem:integrable_semicirclePDFReal}
    \lean{integrable_semicirclePDFReal}
    \uses{def:semicirclePDFReal}
    \notready
    Given a mean $\mu \in \mathbb{R}$ and a variance $v \in \mathbb{R}_{\geq 0}$, the p.d.f. $f : \mathbb{R} \rightarrow \mathbb{R}$ 
    of the semicircle distribution with mean $\mu$ and variance $v$ is integrable.
\end{lemma}
\begin{proof}
% sorry
\end{proof}
%---------%
%---------%
\begin{lemma}
    \label{lem:lintegral_semicirclePDFReal_eq_one}
    \lean{lintegral_semicirclePDFReal_eq_one}
    \uses{def:semicirclePDFReal}
    \notready
    Given a mean $\mu \in \mathbb{R}$ and a nonzero variance $v \in \mathbb{R}_{> 0}$, the lower integral of the p.d.f. $f : \mathbb{R} \rightarrow \mathbb{R}$ 
    of the semicircle distribution with mean $\mu$ and variance $v$ equals $1$.
\end{lemma}
\begin{proof}
% sorry
\end{proof}
%---------%
%---------%
\begin{lemma}
    \label{lem:integral_semicirclePDFReal_eq_one}
    \lean{integral_semicirclePDFReal_eq_one}
    \uses{def:semicirclePDFReal}
    \notready
    Given a mean $\mu \in \mathbb{R}$ and a nonzero variance $v \in \mathbb{R}_{> 0}$, the integral of the p.d.f. $f : \mathbb{R} \rightarrow \mathbb{R}$ 
    of the semicircle distribution with mean $\mu$ and variance $v$ equals $1$.
\end{lemma}
\begin{proof}
% sorry
\end{proof}
%---------%
%---------%
\begin{lemma}
    \label{lem:semicirclePDFReal_sub}
    \mathlibok
    \lean{semicirclePDFReal_sub}
    \uses{def:semicirclePDFReal}
    For any p.d.f. $f : \mathbb{R} \rightarrow \mathbb{R}$ 
    of the semicircle distribution, the following relation is satisfied:
    \[
    f(\mu,v,x-y) = f(\mu+y,v,x)
    \]
    for any $u \in \mathbb{R}$, $v \in \mathbb{R}_{\geq 0}$, and $x,y \in \mathbb{R}$. 
\end{lemma}
\begin{proof}
   Expanding Definition \ref{def:semicirclePDFReal} gives
   \[
   f(\mu,v,x-y) 
   = \frac{1}{2πv} \sqrt{\bigl( 4v - ( (x - y) - μ)^2 \bigl)_+} 
   = \frac{1}{2πv} \sqrt{\bigl( 4v - (x - (μ + y))^2 \bigl)_+}
   = f(\mu+y,v,x).
   \]
\end{proof}
%---------%
%---------%
\begin{lemma}
    \label{lem:semicirclePDFReal_add}
    \mathlibok
    \lean{semicirclePDFReal_add}
    \uses{def:semicirclePDFReal,lem:semicirclePDFReal_sub}
    For any p.d.f. $f : \mathbb{R} \rightarrow \mathbb{R}$ 
    of the semicircle distribution, the following relation is satisfied:
    \[
    f(\mu,v,x+y) = f(\mu-y,v,x)
    \]
    for any $u \in \mathbb{R}$, $v \in \mathbb{R}_{\geq 0}$, and $x,y \in \mathbb{R}$. 
\end{lemma}
\begin{proof}
   Expanding Definition \ref{def:semicirclePDFReal} gives
   \[
   f(\mu,v,x+y) 
   = \frac{1}{2πv} \sqrt{\bigl( 4v - ( (x + y) - μ)^2 \bigl)_+} 
   = \frac{1}{2πv} \sqrt{\bigl( 4v - (x - (μ - y))^2 \bigl)_+}
   = f(\mu-y,v,x).
   \]
\end{proof}
%---------%
%---------%
\begin{lemma}
    \label{lem:semicirclePDFReal_inv_mul}
    \lean{semicirclePDFReal_inv_mul}
    \uses{def:semicirclePDFReal}
    \notready
    For any p.d.f. $f : \mathbb{R} \rightarrow \mathbb{R}$ 
    of the semicircle distribution, the following relation is satisfied:
    \[
    f(\mu,v,c^{-1} x) = |c| \cdot f(c \mu,c^2 v,x)
    \]
    for any $u \in \mathbb{R}$, $v \in \mathbb{R}_{\geq 0}$, $x \in \mathbb{R}$, and nonzero $c \in \mathbb{R}$. 
\end{lemma}
\begin{proof}
% sorry
\end{proof}
%---------%
%---------%
\begin{lemma}
    \label{lem:semicirclePDFReal_mul}
    \mathlibok
    \lean{semicirclePDFReal_mul}
    \uses{def:semicirclePDFReal,lem:semicirclePDFReal_inv_mul}
    For any p.d.f. $f : \mathbb{R} \rightarrow \mathbb{R}$ 
    of the semicircle distribution, the following relation is satisfied:
    \[
    f(\mu,v,cx) = |c^{-1}| \cdot f(c^{-1} \mu,c^{-2} v,x)
    \]
    for any $u \in \mathbb{R}$, $v \in \mathbb{R}_{\geq 0}$, $x \in \mathbb{R}$, and nonzero $c \in \mathbb{R}$. 
\end{lemma}
\begin{proof}
   Expanding Definition \ref{def:semicirclePDFReal} gives
   \[
   f(\mu,v,c x)
   = \frac{1}{2πv} \sqrt{\bigl( 4v - ( cx - μ)^2 \bigl)_+} 
   = \frac{1}{2πv} \sqrt{\bigl( 4v -  c^2(x -  c^{-1}μ)^2 \bigl)_+} 
   = |c^{-1}| \frac{1}{2π(c^{-2}v)} \sqrt{\bigl( 4(c^{-2}v)  - (x - c^{-1} \mu)^2 \bigl)_+}
   = |c^{-1}| \cdot f(c^{-1} \mu,c^{-2} v,x).
   \]
\end{proof}
%---------%
%---------%
%---Richard's Part for Semicircle Distribution (End)---% 
\section{To Extended Nonnegative Reals}



%---Paul's Part for Semicircle Distribution (Start)---% 
\begin{definition}
  \label{def:semicirclePDF}
  \mathlibok 
  \lean{semicirclePDF}
  \uses{def:semicirclePDFReal}
  Let $f : \mathbb{R} \times \mathbb{R}_{\geq 0} \times \mathbb{R} \to \mathbb{R}$ denote the real-valued semicircle density defined in Definition \ref{def:semicirclePDFReal}. Define the function $h: \mathbb{R} \to \mathbb{R} \cup \{\infty\} $ as follows:
  $$
  h(x) := \begin{cases}
x & \text{if } x \ge 0, \\
0 & \text{otherwise}.
\end{cases}
  $$ 
  Then we define the function $ g : \mathbb{R} \times \mathbb{R}_{\geq 0} \times \mathbb{R} \to [0,\infty] \subseteq \overline{\mathbb{R}}_{\ge 0}$ by:
    $$
    g(\mu,v,x) := h(f(\mu,v,x)),
    $$
\end{definition}

\begin{lemma}
  \label{lem:semicirclePDF_def}
  \mathlibok
  \lean{semicirclePDF_def}
  \uses{def:semicirclePDF}
  For all $\mu \in \mathbb{R} \), \( v \in \mathbb{R}_{\geq 0} \), the extended p. d. f. \( g : \mathbb{R} \to [0,\infty]$  satisfies:
  $$
    g(\mu,v) = \left( x \mapsto h(f(\mu,v,x)) \right).
  $$
\end{lemma}

\begin{lemma}
  \label{lem:semicirclePDF_zero_var}
  \mathlibok
  \lean{semicirclePDF_zero_var}
  \uses{def:semicirclePDF,lem:semicirclePDFreal_zero_var}
  If the variance $v$ is zero, then the extended p.d.f. is identically zero:
 $$ 
    \forall x \in \mathbb{R}, \quad g(\mu,0,x) = 0.
 $$ 
\end{lemma}
\begin{proof}
  This follows immediately from the definition of $g$ as $h(f(\mu,0,x))$, and the fact that $f(\mu,0,x) = 0$ from Lemma \ref{lem:semicirclePDFreal_zero_var}.
\end{proof}

\begin{lemma}
\label{lem:semicirclePDF_toReal}
Let \( \mu \in \mathbb{R} \), \( v \in \mathbb{R}_{\ge 0} \), and \( x \in \mathbb{R} \).
Then the real value recovered from the extended semicircle PDF satisfies:
\[
g(\mu, v, x)^{\operatorname{toReal}} = f(\mu, v, x).
\]
\end{lemma}
\begin{proof}
Since \( f(\mu, v, x) \ge 0 \), we have \( h(f(\mu, v, x)) = f(\mu, v, x) \), and thus
\[
g(\mu, v, x) = h(f(\mu, v, x)) = f(\mu, v, x).
\]
Therefore,
\[
g(\mu, v, x)^{\operatorname{toReal}} = f(\mu, v, x),
\]
as desired.
\end{proof}

\begin{lemma}
  \label{lem:semicirclePDF_nonneg}
  \lean{semicirclePDF_nonneg}
  \uses{def:semicirclePDF}
  If $v > 0$, then for all $\mu, x \in \mathbb{R}$, the extended p.d.f. is nonnegative:
  \[
    0 \le g(\mu,v,x).
  \]
\end{lemma}
\begin{proof}
  This is immediate from the definition of $g$ as $h(f(\mu,v,x))$ and the nonnegativity of $f$ (Lemma~\ref{lem:semicirclePDFReal_nonneg}).
\end{proof}

\begin{lemma}
  \label{lem:semicirclePDF_finite}
  \lean{semicirclePDF_lt_top}
  \uses{def:semicirclePDF}
  For all $\mu, x \in \mathbb{R}$, and $v \in \mathbb{R}_{\ge 0}$, we have:
    $$ 
    g(\mu,v,x) < \infty.
    $$ 
\end{lemma}
\begin{proof}
  Since $f(\mu,v,x) \in \mathbb{R}_{\ge 0}$, we have $g(\mu,v,x) = h(f(\mu,v,x)) < \infty$.
\end{proof}

\begin{lemma}
  \label{lem:semicirclePDF_ne_top}
  \lean{semicirclePDF_ne_top}
  \uses{def:semicirclePDF}
  For all \( \mu, x \in \mathbb{R} \), and \( v \in \mathbb{R}_{\ge 0} \), the extended p.d.f. is finite:
  \[
    g(\mu,v,x) \ne \infty.
  \]
\end{lemma}

\begin{lemma}
  \label{lem:support_semicirclePDF}
  \lean{support_semicirclePDF}
  \uses{def:semicirclePDF,def:semicirclePDFReal}
  Let \( \mu \in \mathbb{R} \) and \( v \in \mathbb{R}_{> 0} \). Then the support of the extended p.d.f. is
  \[
    \operatorname{supp}(g(\mu,v)) = \left\{ x \in \mathbb{R} : f(\mu,v,x) \ne 0 \right\}
    = \left[ \mu - 2\sqrt{v}, \mu + 2\sqrt{v} \right].
  \]
\end{lemma}
\begin{proof}
    sorry
\end{proof}

\begin{lemma}
  \label{lem:measurable_semicirclePDF}
  \lean{measurable_semicirclePDF}
  \uses{lem:measurable_semicirclePDFReal}
  The function \( x \mapsto g(\mu,v,x) \) is measurable for all \( \mu \in \mathbb{R} \), \( v \in \mathbb{R}_{\ge 0} \).
\end{lemma}
\begin{proof}
  Since $h$ is measurable, and $h$ is a measurable map \( \mathbb{R}_{\ge 0} \to \overline{\mathbb{R}}_{\ge 0} \), their composition is measurable.
\end{proof}

\begin{lemma}
  \label{lem:lintegral_semicirclePDF_eq_one}
  \lean{lintegral_semicirclePDF_eq_one}
  \uses{def:semicirclePDF,lem:lintegral_semicirclePDFReal_eq_one}
  If \( v > 0 \), then the total integral of \( g \) with respect to Lebesgue measure is 1:
  \[
    \int_{\mathbb{R}} g(\mu,v,x) \, dx = 1.
  \]
\end{lemma}
\begin{proof}
  This follows from the equality:
  \[
  \int_{\mathbb{R}} h(f(\mu,v,x)) \, dx = h( \left( \int_{\mathbb{R}} f(\mu,v,x) \, dx \right) = h(1) = 1
  \]
  using Lemma \ref{lem:lintegral_semicirclePDFReal_eq_one}.
\end{proof}

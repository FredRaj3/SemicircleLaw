\chapter{SemicircleDistribution}
\section{Semicircle Probability Density Function}

\section{To Extended Nonnegative Reals}



%---Paul's Part for Semicircle Distribution (Start)---% 
\begin{definition}
  \label{def:semicirclePDF}
  \mathlibok 
  \lean{semicirclePDF}
  \uses{def:semicirclePDFReal}
  Let $f : \mathbb{R} \times \mathbb{R}_{\geq 0} \times \mathbb{R} \to \mathbb{R}$ denote the real-valued semicircle density defined in Definition \ref{def:semicirclePDFReal}. Define the function $h: \mathbb{R} \to \mathbb{R} \cup \{\infty\} $ as follows:
  $$
  h(x) := \begin{cases}
x & \text{if } x \ge 0, \\
0 & \text{otherwise}.
\end{cases}
  $$ 
  Then we define the function $ g : \mathbb{R} \times \mathbb{R}_{\geq 0} \times \mathbb{R} \to [0,\infty] \subseteq \overline{\mathbb{R}}_{\ge 0}$ by:
    $$
    g(\mu,v,x) := h(f(\mu,v,x)),
    $$
\end{definition}

\begin{lemma}
  \label{lem:semicirclePDF_def}
  \mathlibok
  \lean{semicirclePDF_def}
  \uses{def:semicirclePDF}
  For all $\mu \in \mathbb{R} \), \( v \in \mathbb{R}_{\geq 0} \), the extended p. d. f. \( g : \mathbb{R} \to [0,\infty]$  satisfies:
  $$
    g(\mu,v) = \left( x \mapsto h(f(\mu,v,x)) \right).
  $$
\end{lemma}

\begin{lemma}
  \label{lem:semicirclePDF_zero_var}
  \mathlibok
  \lean{semicirclePDF_zero_var}
  \uses{def:semicirclePDF,lem:semicirclePDFreal_zero_var}
  If the variance $v$ is zero, then the extended p.d.f. is identically zero:
 $$ 
    \forall x \in \mathbb{R}, \quad g(\mu,0,x) = 0.
 $$ 
\end{lemma}
\begin{proof}
  This follows immediately from the definition of $g$ as $h(f(\mu,0,x))$, and the fact that $f(\mu,0,x) = 0$ from Lemma \ref{lem:semicirclePDFreal_zero_var}.
\end{proof}

\begin{lemma}
\label{lem:semicirclePDF_toReal}
Let \( \mu \in \mathbb{R} \), \( v \in \mathbb{R}_{\ge 0} \), and \( x \in \mathbb{R} \).
Then the real value recovered from the extended semicircle PDF satisfies:
\[
g(\mu, v, x)^{\operatorname{toReal}} = f(\mu, v, x).
\]
\end{lemma}
\begin{proof}
Since \( f(\mu, v, x) \ge 0 \), we have \( h(f(\mu, v, x)) = f(\mu, v, x) \), and thus
\[
g(\mu, v, x) = h(f(\mu, v, x)) = f(\mu, v, x).
\]
Therefore,
\[
g(\mu, v, x)^{\operatorname{toReal}} = f(\mu, v, x),
\]
as desired.
\end{proof}

\begin{lemma}
  \label{lem:semicirclePDF_nonneg}
  \lean{semicirclePDF_nonneg}
  \uses{def:semicirclePDF}
  If $v > 0$, then for all $\mu, x \in \mathbb{R}$, the extended p.d.f. is nonnegative:
  \[
    0 \le g(\mu,v,x).
  \]
\end{lemma}
\begin{proof}
  This is immediate from the definition of $g$ as $h(f(\mu,v,x))$ and the nonnegativity of $f$ (Lemma~\ref{lem:semicirclePDFReal_nonneg}).
\end{proof}

\begin{lemma}
  \label{lem:semicirclePDF_finite}
  \lean{semicirclePDF_lt_top}
  \uses{def:semicirclePDF}
  For all $\mu, x \in \mathbb{R}$, and $v \in \mathbb{R}_{\ge 0}$, we have:
    $$ 
    g(\mu,v,x) < \infty.
    $$ 
\end{lemma}
\begin{proof}
  Since $f(\mu,v,x) \in \mathbb{R}_{\ge 0}$, we have $g(\mu,v,x) = h(f(\mu,v,x)) < \infty$.
\end{proof}

\begin{lemma}
  \label{lem:semicirclePDF_ne_top}
  \lean{semicirclePDF_ne_top}
  \uses{def:semicirclePDF}
  For all \( \mu, x \in \mathbb{R} \), and \( v \in \mathbb{R}_{\ge 0} \), the extended p.d.f. is finite:
  \[
    g(\mu,v,x) \ne \infty.
  \]
\end{lemma}

\begin{lemma}
  \label{lem:support_semicirclePDF}
  \lean{support_semicirclePDF}
  \uses{def:semicirclePDF,def:semicirclePDFReal}
  Let \( \mu \in \mathbb{R} \) and \( v \in \mathbb{R}_{> 0} \). Then the support of the extended p.d.f. is
  \[
    \operatorname{supp}(g(\mu,v)) = \left\{ x \in \mathbb{R} : f(\mu,v,x) \ne 0 \right\}
    = \left[ \mu - 2\sqrt{v}, \mu + 2\sqrt{v} \right].
  \]
\end{lemma}
\begin{proof}
    sorry
\end{proof}

\begin{lemma}
  \label{lem:measurable_semicirclePDF}
  \lean{measurable_semicirclePDF}
  \uses{lem:measurable_semicirclePDFReal}
  The function \( x \mapsto g(\mu,v,x) \) is measurable for all \( \mu \in \mathbb{R} \), \( v \in \mathbb{R}_{\ge 0} \).
\end{lemma}
\begin{proof}
  Since $h$ is measurable, and $h$ is a measurable map \( \mathbb{R}_{\ge 0} \to \overline{\mathbb{R}}_{\ge 0} \), their composition is measurable.
\end{proof}

\begin{lemma}
  \label{lem:lintegral_semicirclePDF_eq_one}
  \lean{lintegral_semicirclePDF_eq_one}
  \uses{def:semicirclePDF,lem:lintegral_semicirclePDFReal_eq_one}
  If \( v > 0 \), then the total integral of \( g \) with respect to Lebesgue measure is 1:
  \[
    \int_{\mathbb{R}} g(\mu,v,x) \, dx = 1.
  \]
\end{lemma}
\begin{proof}
  This follows from the equality:
  \[
  \int_{\mathbb{R}} h(f(\mu,v,x)) \, dx = h( \left( \int_{\mathbb{R}} f(\mu,v,x) \, dx \right) = h(1) = 1
  \]
  using Lemma \ref{lem:lintegral_semicirclePDFReal_eq_one}.
\end{proof}

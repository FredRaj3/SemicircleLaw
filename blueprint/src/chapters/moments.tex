\begin{proposition}[Proposition 4.1 in \cite{Kemp2013RMTNotes}]
  \label{prop:matrix_moments_convergence}
  \notready
  \uses{def:}
  Let $\{Y_{ij}\}_{1\le i\le j}$ be independent random variables, with $\{Y_{ii}\}_{i\ge 1}$ identically distributed and $\{Y_{ij}\}_{1\le i<j}$ identically distributed.  Suppose that $r_k = \max\{\bE(|Y_{11}|^k),\bE(|Y_{12}|^k)\} <\infty$ for each $k\in\bN$.  Suppose further than $\bE(Y_{ij})=0$ for all $i,j$ and set $t=\bE(Y_{12}^2)$.  If $i>j$, define $Y_{ij} \equiv Y_{ji}$, and let $\mathbf{Y}_n$ be the $n\times n$ matrix with $[\mathbf{Y}_n]_{ij} = Y_{ij}$ for $1\le i,j\le n$.  Let $\mathbf{X}_n = n^{-1/2}\mathbf{Y}_n$ be the corresponding Wigner matrix.  Then
\[
\lim_{n\to\infty} \frac{1}{n}\bE\Tr(\mathbf{X}_n^k) = \begin{cases}
  t^{k/2}C_{k/2}, & k\text{ even} \\
  0, & k\text{ odd}
\end{cases}.
\]
\end{proposition}

\begin{proof}
\notready
Proof
\end{proof}



\begin{lemma}\label{lem:trace_smul}
  %\uses{????}
  \mathlibok %what does this mean
  \lean{Matrix.trace_smul}
  Let $R$ be a ring with a monoid action from $\alpha$ (i.e., $\alpha$ acts distributively on $R$).
  For any scalar $r \in \alpha$ and any square matrix $A$ over $R$, the trace of the scalar
  multiple $r \cdot A$ equals the scalar multiple of the trace of $A$, i.e.,
  \[ \text{tr}(r \cdot A) = r \cdot \text{tr}(A). \]
  \end{lemma}

  \begin{proof}\leanok %what does this mean
  %idk what to put in here
  \end{proof}

% 4.2
% lemma (lemma1): using Matrix.mul_apply?? + induction?


% definition of trace
% linearity of expectation --> map_expect????
% lemma1
% defn of Y_i, [n].


% define a graph (no idea how to do this in lean)

% matrices commutative? don't really understand this part of the proof

%define \omega ({i, j})



%---Richard's Part (Start)---% 
%---------% 
\begin{lemma}
  \label{lem:}
  \uses{}
  For any $k$-index $\mathbf{i}$, the connected *oriented* graph $G_\mathbf{i}$ has at most $k$ vertices.
  Furthermore
  \[
  |w_\mathbf{i}| \equiv \sum_{e \in E_\mathbf{i}} w_\mathbf{i}(e) = k.
  \]
\end{lemma}
\begin{proof}
  Foremost, since the number of vertices of the graph $G_\mathbf{i}$ 
  are the number of distinct elements of the $k$-index $\mathbf{i}$, it clearly follows that $|G| \leq k$.
  On the other hand, given an edge $e \in E_\mathbf{i}$, by Definition \ref{* *}, $w_i(e)$ as the number of times the walk $w_\mathbf{i}$ traversed $e$. 
  Since $|w_\mathbf{i}| = k$ by construction, it follows that
  \[
  |w_\mathbf{i}| \equiv \sum_{e \in E_\mathbf{i}} w_\mathbf{i}(e) = k.
  \]
\end{proof}
%---------%
% Motivated by these conditions, we define $\mathcal{G}_k$:
%---------%
\begin{definition}[Definition 4.2 in \cite{Kemp2013RMTNotes}]
  \label{def:}
  \uses{}
  Let $\mathcal{G}_k$ denote the set of all pairs $(G,w)$ where $G = (V,E)$ is a connected graph with at most $k$ vertices, and
  $w$ is a closed walk covering $G$ satisfying $|w| = k$.
\end{definition}
%---------%
We can count the set of $k$-indexes in Equation \ref{* *}: 
% For any $(G,w) \in \mathcal{G}_k$, an index with that corresponding graph $G$ and walk $w$ is completely determined by assigning which distinct values of $[n]$ appear at the vertices of $G$:
%---------%
% The definition below proposes an alternate definition of $\mathcal{G}_k$ along with the equivalence relation. 
%\begin{definition}
%  \label{def: }
%  \notready
%  \uses{}
%  We propose an alternate (and perhaps more explicit) construction of $\mathcal{G}_k$. We define 
%  $\mathcal{G}_k$ as the set of equivalence classes of the set $\{ (G_\mathbf{i},w_\mathbf{i}) : \mathbf{i} \in [n]^k \text{ and } n \in \mathbb{N} \}$, 
%  where the equivalence relation is defined as: $(G_\mathbf{i},w_\mathbf{i}) \sim (G_{\mathbf{i}^*},w_{\mathbf{i}^*})$ 
%  if and only if there exists a bijection $\varphi$ from the set of entries $\mathbf{i}$ onto the set of entries $\mathbf{i}^*$ such that
%  \[
%  \mathbf{i} = (i_1,...,i_k) \,\, \Longleftrightarrow \,\, \mathbf{i}^* = \bigl( \varphi(i_1),\varphi(i_2),...,\varphi(i_k) \bigl).
%  \]
%  We denote an element of $\mathcal{G}_k$ as $(G,w)$.
%\end{definition}
%---------%
%\begin{lemma}
%  \label{lem:}
%  \notready
%  \uses{}
%  Given two $k$-indexes $\mathbf{i} = (i_1,...,i_k)$ and $\mathbf{i}^* = (j_1,...,j_k)$, 
%  suppose there exists a bijection $\varphi$ from the set of entries $\mathbf{i}$ onto the set of entries $\mathbf{i}^*$ such that
%  \[
%  \mathbf{i} = (i_1,...,i_k) \,\, \Longleftrightarrow \,\, \mathbf{i}^* = \bigl( \varphi(i_1),\varphi(i_2),...,\varphi(i_k) \bigl).
%  \]
%  Then $\bE (Y_\mathbf{i}) = \bE (Y_{\mathbf{i}^*})$.
%\end{lemma}
%\begin{proof}
%  It suffices to show that $Y_\mathbf{i}$ and $Y_{\mathbf{i}^*}$ represent the same number of, respectively, self-edges and connecting edges.
%  Given $Y_\mathbf{i} = Y_{i_1 i_2}Y_{i_2 i_3} \cdots Y_{i_{k-1} i_k}Y_{i_k i_1}$,
%  \[
%  Y_{\mathbf{i}^*} = Y_{j_1 j_2}Y_{j_2 j_3} \cdots Y_{j_{k-1} j_k}Y_{j_k j_1} 
%  = Y_{\varphi(i_1) \varphi(i_2)}Y_{\varphi(i_2) \varphi(i_3)} \cdots Y_{\varphi(i_{k-1}) \varphi(i_k)}Y_{\varphi(i_k) \varphi(i_1)}.
%  \] 
%  The fact that $\{ i_{\lambda_l},i_{\lambda_{l+1}} \}$ is a self-edge 
%  if (i.e. a singleton) and only if $\{ \varphi(i_{\lambda_l}),\varphi(i_{\lambda_{l+1}}) \}$ is a self-edge completes the proof.
%\end{proof}
%---------%
\begin{lemma}[Lemma 4.3 in \cite{Kemp2013RMTNotes}]
  \label{lem:}
  \uses{def:}
  Given $(G,w) \in \mathcal{G}_k$, denote by $|G|$ the number of vertices in $G$. Then
  \[
  \# \{ \mathbf{i} \in [n]^k : (G_\mathbf{i},w_\mathbf{i}) = (G,w) \} = n (n-1) \cdots (n - |G| + 1).
  \]
\end{lemma}
\begin{proof}
  By the way the equivalence relation is defined in Definition \ref{* *}, 
  the fact that there are $n (n - 1) \cdots (n -|G| + 1)$ ways to assign $|G|$ distinct values from $[n]$ into the indices $i_1,...,i_{|G|}$ completes the proof.
\end{proof}
%---------%
% Using Equation \ref{* *}, we can re-index the sum of Equation \ref{* *} as
%---------%
\begin{lemma}
  \label{lem:}
  \uses{}
  \[
  \frac{1}{n} \bE \Tr (\mathbf{X}_n^k) = \sum_{(G,w) \in \mathcal{G}_k} \Pi (G,w) \cdot \frac{n (n-1) \cdots (n - |G| + 1)}{n^{k/2+1}}.
  \]
\end{lemma}
\begin{proof}
  % Claim 1: Re-indexing the summation
  Foremost, we can re-index the sum of Lemma \ref{* *} by using Lemma \ref{* *}: 
  \[ 
  \bE \Tr (\mathbf{Y}_\mathbf{i}^k) 
  = \sum_{(G,w) \in \mathcal{G}_k} \sum_{\substack{\mathbf{i} \in [n]^k \\ (G_\mathbf{i},w_\mathbf{i}) = (G,w)}} \bE (Y_\mathbf{i})
  = \sum_{(G,w) \in \mathcal{G}_k} \Pi (G,w) \cdot \# \{ \mathbf{i} \in [n]^k : (G_\mathbf{i},w_\mathbf{i}) = (G,w) \}.
  \]
  % Claim 2: Applying the counting argument
  We can further reformulate this expression by applying Lemma \ref{* *}:
  \begin{equation}\label{equation_???}
  \bE \Tr (\mathbf{Y}_\mathbf{i}^k)
  = \sum_{(G,w) \in \mathcal{G}_k} \Pi (G,w) \cdot n (n-1) \cdots (n - |G| + 1).
  \end{equation}
  % Claim 3: Introducing the renormalization factor
  Combining with the renormalization factor $n^{-1}$ of Equation \ref{* *}
  \[
  \frac{1}{n} \bE \Tr (\mathbf{X}_n^k) = \frac{1}{n^{k/2+1}} \bE \Tr (\mathbf{Y}_\mathbf{i}^k).
  \]
  Substituting the term $\bE \Tr (\mathbf{Y}_\mathbf{i}^k)$ with the expression in Equation \ref{equation_???}
  \[
  \frac{1}{n} \bE \Tr (\mathbf{X}_n^k) = \sum_{\substack{(G,w) \in \mathcal{G}_k}} \Pi (G,w) \cdot \frac{n (n-1) \cdots (n - |G| + 1)}{n^{k/2+1}}.
  \]
\end{proof}
%---------%
% Note that the summation is finite, and thus we only need to determine the values of $\Pi (G,w)$ to evaluate the summation. 
%---------%
\begin{lemma}
  \label{lem:}
  \uses{}
  Let us denote the condition that some walk $w$ crosses each edge at least twice as $w \geq 2$. Then
  \[
  \frac{1}{n} \bE \Tr (\mathbf{X}_n^k) 
  = \sum_{\substack{(G,w) \in \mathcal{G}_k \\ w \geq 2}} \Pi (G,w) \cdot \frac{n (n-1) \cdots (n - |G| + 1)}{n^{k/2+1}}.
  \]
\end{lemma}
\begin{proof}
  Let $(G,w) \in \mathcal{G}_k$ and suppose there exists an edge $e = \{i,j\}$ such that $w(e) = 1$.
  This means, in Equation \ref{* *}, a singleton term $\bE (Y_{ij}^{w(e)}) = \bE (Y_{ij})$ appears.
  The fact that the variables $Y_{ij}$ are all centered implies the product $\Pi (G,w) = 0$ for any such pair $(G,w)$.
  Thus, we only need to consider those $w$ that cross each edge at least twice: 
  % Reference the Proposition 4.1 condition?
  \[
  \frac{1}{n} \bE \Tr (\mathbf{X}_n^k) = \sum_{\substack{(G,w) \in \mathcal{G}_k}} \Pi (G,w) \cdot \frac{n (n-1) \cdots (n - |G| + 1)}{n^{k/2+1}}  = \sum_{\substack{(G,w) \in \mathcal{G}_k \\ w \geq 2}} \Pi (G,w) \cdot \frac{n (n-1) \cdots (n - |G| + 1)}{n^{k/2+1}}.
  \]
\end{proof}
%---------%
\begin{lemma}
  \label{lem:}
  \uses{}
  Given an ordered pair $(G_\mathbf{i},w_\mathbf{i})$, if $w_\mathbf{i} \leq 2$, then $\# E_\mathbf{i} \leq k/2$.
\end{lemma}
\begin{proof}
  Since $|w_\mathbf{i}| = k$, if each edge in $G_\mathbf{i}$ is traversed at least twice, then by construction the number of edges is at most $k/2$.
\end{proof}
%---------%
% This lemma might be merged with the following one(s).
%---Richard's Part (End)---% 


\iffalse


% 4.4: true because multiplication is commutative (EReal.mul_comm)


% more graph definitions (idk how lean would work)


% smt smt get to 4.5

% 4.6: use 4.5, scalar multiple of expectatio (Finset.smul_expect), trace of scalar multiple (Matrix.trace_smul)


% lemma 4.3: lots more work needed

%4.7: use lemma 4.3

% w >= 2 stuff
% 4.8

% 4.3.1: maybe SimpleGraph.IsTree.card_edgeFinset??


\fi
